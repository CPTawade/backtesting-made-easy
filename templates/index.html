<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candlestick Chart App</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; }
        #chart { width: 1200px; height: 600px; margin: 0 auto; }
        #controls { margin-bottom: 1em; text-align: center; }
    </style>
</head>
<body style="background: #f5fdff;">
    <h2>Backtesting Made Easy :)</h2>
    <div id="controls">
        <div style="display:inline-block;position:relative;vertical-align:middle;">
        <label for="company-search">Company Name:</label>
        <input type="text" id="company-search" placeholder="Type company name..." autocomplete="off" style="margin-right:12px;width:220px;" />
        <div id="autocomplete-list" style="position:absolute;top:100%;left:0;z-index:10;background:#fff;border:1px solid #ccc;width:270px;max-height:260px;overflow-y:auto;display:none;text-align:left;"></div>
        </div>
        <label for="symbol">Symbol:</label>
        <input type="text" id="symbol" value="TITAN.NS" style="margin-right:12px;width:120px;" readonly />
        <label for="interval">Interval:</label>
        <select id="interval" style="margin-right:12px;">
            <option value="1d">1 Day</option>
            <option value="1wk">1 Week</option>
            <option value="1mo">1 Month</option>
        </select>

        <label for="slow-ema">Smaller Length EMA:</label>
        <input type="number" id="slow-ema" value="50" min="1" max="100" style="width:60px;margin-right:12px;margin-left:8px;" />
        <label for="fast-ema">Bigger Length EMA:</label>
        <input type="number" id="fast-ema" value="200" min="1" max="100" style="width:60px;margin-right:12px;margin-left:8px;" />
        <button onclick="loadChart()">Load Chart</button>
    </div>

    <div id="chart" style="margin:auto;width:100%;max-width:1200px;box-sizing:border-box;border: 2px solid #aaa; border-radius: 8px;"></div>
    <div id="trade-log" style="margin:auto;width:100%;max-width:1200px;"></div>

    <!-- Date Range Filter -->
    <div id="date-range-controls" style="margin:auto;width:60%;max-width:700px;margin-top:2em;text-align:center;">
        <label for="from-date">From:</label>
        <input type="date" id="from-date" style="margin-right:20px;">
        <label for="to-date">To:</label>
        <input type="date" id="to-date" style="margin-right:20px;">
        <button onclick="showCustomDateStats()">Show Custom Stats</button>
    </div>
    <div id="custom-date-stats" style="margin:auto;width:60%;max-width:700px;margin-top:1em;"></div>

    <script src="https://unpkg.com/lightweight-charts@4.0.0/dist/lightweight-charts.standalone.production.js"></script>
    <script src="/static/main.js"></script>
</body>
</html>
